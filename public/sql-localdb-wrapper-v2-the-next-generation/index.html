<!doctype html><html lang=en-gb><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><title>SQL LocalDB Wrapper v2 - The Next Generation | The blog of a software developer and tester.</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta property="author" content="Martin Costello"><meta name=copyright content="&copy; Martin Costello 2014-2025"><meta name=description content="SQL LocalDB Wrapper version 2.0 has been released to NuGet, adding support for .NET Standard 2.0."><meta name=language content="en"><meta name=theme-color content="#ffffff"><meta name=keywords content="localdb,sql,testing"><meta name=robots content="INDEX"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="article:author" content="10100867762061905"><meta property="article:published_time" content="2018-10-02T00:00:00Z"><meta property="article:modified_time" content="2018-10-02T00:00:00Z"><meta property="article:tag" content="localdb,sql,testing"><meta property="fb:profile_id" content="10100867762061905"><meta name=application-name content="Martin Costello's Blog"><meta name=msapplication-config content="browserconfig.xml"><meta name=msapplication-navbutton-color content="#0095DA"><meta name=msapplication-starturl content="/"><meta property="og:description" content="SQL LocalDB Wrapper version 2.0 has been released to NuGet, adding support for .NET Standard 2.0."><meta property="og:image" content="https://cdn.martincostello.com/martin_small-v3.png"><meta property="og:locale" content="en_GB"><meta property="og:site_name" content="Martin Costello's Blog"><meta property="og:title" content="SQL LocalDB Wrapper v2 - The Next Generation"><meta property="og:type" content="article"><meta property="og:updated_time" content="2018-10-02T00:00:00Z"><meta property="og:url" content="https://blog.martincostello.com/sql-localdb-wrapper-v2-the-next-generation/"><meta name=twitter:card content="summary"><meta name=twitter:creator content="@martin_costello"><meta name=twitter:description content="SQL LocalDB Wrapper version 2.0 has been released to NuGet, adding support for .NET Standard 2.0."><meta name=twitter:domain content="blog.martincostello.com"><meta name=twitter:image content="https://cdn.martincostello.com/martin_small-v3.png"><meta name=twitter:image:alt content="Martin Costello"><meta name=twitter:site content="@martin_costello"><meta name=twitter:title content="SQL LocalDB Wrapper v2 - The Next Generation"><meta name=twitter:url content="https://blog.martincostello.com/sql-localdb-wrapper-v2-the-next-generation/"><meta name=twitter:label1 content="Written by"><meta name=twitter:data1 content="Martin Costello"><meta name=google-site-verification content="ji6SNsPQEbNQmF252sQgQFswh-b6cDnNOa3AHvgo4J0"><meta name=msvalidate.01 content="D6C2E7551C902F1A396D8564C6452930"><link rel=canonical href=https://blog.martincostello.com/sql-localdb-wrapper-v2-the-next-generation/><link rel=manifest href=/manifest.webmanifest><link href=https://cdn.martincostello.com/favicon.ico rel="shortcut icon" type=image/x-icon><link href=/sitemap.xml rel=sitemap type=application/xml><link href=/feed.xml rel=alternate type=application/rss+xml title=Atom></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary"><div class=container><a href=/ class=navbar-brand><span class="fa-solid fa-laptop-code" aria-hidden=true></span>
blog.martincostello.com
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#site-navbar aria-controls=site-navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=site-navbar><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/archive/ title="View the post archive">Archive
<span class="fa-solid fa-box-archive" aria-hidden=true></span></a></li></ul><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/about-me/ title="About Martin">About Me
<span class="fa-solid fa-circle-info" aria-hidden=true></span></a></li></ul></div></div></nav><main class="container body-content"><div class="p-4 mb-3 bg-light rounded-3"><div class="container-fluid py-3"><h1 class=display-5>SQL LocalDB Wrapper v2 - The Next Generation</h1><p class="col-md-8 fs-4 lead">SQL LocalDB Wrapper version 2.0 has been released to NuGet, adding support for .NET Standard 2.0.</p></div></div><p><div class="row d-none d-md-block"><div class=col-6>2 October 2018 by <a href=/about-me/ rel=noopener title="About Martin Costello">Martin Costello</a> |
<a href=/feed.xml rel=noopener title="View the RSS syndication feed"><span class="fa-solid fa-rss" aria-hidden=true></span></a></div></div><div class="row d-md-none"><div class=col-12>2 October 2018 by <a href=/about-me/ rel=noopener title="About Martin Costello">Martin Costello</a></div><div class=col-12><a href=/feed.xml rel=noopener title="View the RSS syndication feed"><span class="fa-solid fa-rss" aria-hidden=true></span></a></p></div></div></p><p><div class=row><div class=col-lg-6><a href="https://bsky.app/intent/compose?text=SQL+LocalDB+Wrapper+v2+-+The+Next+Generation+by+%40martincostello.com+-+https%3A%2F%2Fblog.martincostello.com%2Fsql-localdb-wrapper-v2-the-next-generation%2F" target=_blank rel=noopener class="btn btn-info btn-sm" title="Share on Bluesky">Share on Bluesky
<span class="fa-brands fa-bluesky" aria-hidden=true></span></a></div></div></p><p>After over 2 years and 100,000 package downloads since the <a href=https://www.nuget.org/packages/System.Data.SqlLocalDb/1.15.0 title="System.Data.SqlLocalDb 1.15.0 on NuGet.org">last release</a> of <a href=https://github.com/martincostello/sqllocaldb title="SQL LocalDB Wrapper on GitHub.com">SQL LocalDB Wrapper</a>, I&rsquo;ve released <a href=https://github.com/martincostello/sqllocaldb/releases/tag/v2.0.0 title="SQL LocalDB Wrapper v2.0.0 on GitHub.com">version 2</a> to NuGet.</p><p>Version 2.0.0 of SQL LocalDB Wrapper is a major rewrite of version 1.x.x, and is now fully .NET Core compatible. You can read more about the changes in the <a href=https://github.com/martincostello/sqllocaldb/releases/tag/v2.0.0 title="SQL LocalDB Wrapper 2.0.0 release notes">release notes</a>.</p><ul><li><a href=https://www.nuget.org/packages/MartinCostello.SqlLocalDb title="MartinCostello.SqlLocalDb on NuGet.org">NuGet package</a></li><li><a href=https://github.com/martincostello/sqllocaldb title="SQL LocalDB Wrapper on GitHub.com">GitHub repository</a></li></ul><p>READMORE</p><h2 id=origins>Origins</h2><p>SQL LocalDB Wrapper was my first ever open-source project, first published in 2012 as a ZIP file with the source code on <a href=https://archive.codeplex.com/>CodePlex</a> with TFS source control. Since then it&rsquo;s moved to Git, moved to <a href=https://github.com/martincostello/sqllocaldb title="SQL LocalDB Wrapper on GitHub.com">GitHub</a>, and been published as a <a href=https://www.nuget.org/packages/System.Data.SqlLocalDb title="System.Data.SqlLocalDb NuGet.org">NuGet package</a>.</p><p>SQL LocalDB Wrapper was born from a desire at a previous role when I was in a quality assurance role to find a way to perform more realistic automated testing of data access code for SQL Server. Reliably provisioning a throw-away SQL Server instance before the days of Docker and containers was fraught with difficulty. SQL Server was complicated to install, it wasn&rsquo;t fast to do so, and was incredibly difficult to automate, even if it was just the SQL Server Express edition!</p><p>With the release of SQL Server LocalDB, with just a simple MSI installation onto a CI build server, a SQL Server instance could be created and deleted at will in just a few seconds with almost full fidelity of SQL Server language features available for use.</p><p>The problem was that managing the LocalDB instances needed to perform commands using the <code>sqllocaldb.exe</code> tool, not making it particularly easy to integrate with. SQL Server LocalDB does come with an API for programmatic usage, but this a native C DLL for Windows that has to be located using the registry.</p><p>Thus SQL LocalDB Wrapper was born. It hides all that complexity from you, providing a simple API for managing instances and getting the connection strings to connect to them.</p><h2 id=version-2>Version 2</h2><p>Since version 1.15 was released, .NET Framework 3.5, 4.0 and 4.5 have all reached end-of-life, SQL Server now runs on Linux, and .NET Core has shipped two major releases. The .NET development landscape is quite different, even more so since I first made version 1.0 available!</p><p>The library still gets usage from people and downloads from NuGet, so I figured that I should update it to support .NET Core quite a while ago. However, that effort lay stagnant and on the back-burner for a while due to the fact that SQL Server LocalDB is still Windows-specific and needs access to the Windows Registry to find the native library it wraps.</p><p>Things changed with the release of .NET Core 2.0 though, with Microsoft adding various APIs and compatibility packs to add support for various platform-specific features that don&rsquo;t necessarily fully fit with the cross-platform ideals of .NET Core.</p><p>With those changes, I finally got the time a few months ago to put the time into updating the library for supporting .NET Core. This wasn&rsquo;t the simplest task as things like <code>System.Configuration</code> support, functionality related to EntityFramework, and use of MSTest, all having to be shed to support the goal of 1st class .NET Core support for the library. There was also the matter of updating all the documentation and samples, as well as writing a <a href=https://github.com/martincostello/sqllocaldb/wiki/Migrating-to-MartinCostello.SqlLocalDb-from-System.Data.SqlLocalDb title="Migrating to MartinCostello.SqlLocalDb from System.Data.SqlLocalDb">migration guide</a>.</p><p>With such large amounts of refactoring required, I also took it upon myself to revisit the API surface and functionality, and rework some design decisions based on the skills and experience I&rsquo;ve picked up in the 6 years since I started the wrapper. Overall it&rsquo;s take about 3 months to get everything migrated, updated, documented and tested.</p><p>Of course, it is still only fully functional on Windows due to the nature of SQL Server LocalDB itself, but it will happily sit within a cross-platform application, with an API surface that allows support to be tested for at runtime on any platform for light-up of functionality.</p><p>You can find <a href=https://github.com/martincostello/sqllocaldb/tree/main/samples title="SQL LocalDB Wrapper samples">samples</a> for using the library in the GitHub repository, with examples for writing tests that use it as well as some usage within a simple application.</p><p>I imagine over time the need for this library will decline as SQL Server LocalDB becomes more cross-platform and other technologies like containers become even more wide-spread, but I&rsquo;m glad to keep it current and fresh for the next generation of C# and .NET for anyone who might find it useful.</p><hr><p><div class=row><div class=col-lg-6><a href="https://bsky.app/intent/compose?text=SQL+LocalDB+Wrapper+v2+-+The+Next+Generation+by+%40martincostello.com+-+https%3A%2F%2Fblog.martincostello.com%2Fsql-localdb-wrapper-v2-the-next-generation%2F" target=_blank rel=noopener class="btn btn-info btn-sm" title="Share on Bluesky">Share on Bluesky
<span class="fa-brands fa-bluesky" aria-hidden=true></span></a></div></div></p><hr><footer><p><div class=row><div class="d-none d-md-block col">&copy; Martin Costello 2014-2025 |
Built from <a href=https://github.com/martincostello/blog/commit/1e081eee55dfb7b252dce3b0ab73a36513d14253 rel=noopener title="View commit 1e081eee55dfb7b252dce3b0ab73a36513d14253 on GitHub">1e081ee</a> on <a href=https://github.com/martincostello/blog/tree/copilot/fix-244 rel=noopener title="View branch copilot/fix-244 on GitHub">copilot/fix-244</a></div><div class=d-md-none><div class=col>&copy; Martin Costello 2014-2025</div></div></div></p></footer></main><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.7/flatly/bootstrap.min.css integrity="sha512-O+EA0Agf5+pB8u7CtnIAYq/BKyFPMT8c0DFjmqLyfIJJ9Fm8GBohV/0H0TFaZ96+jieN8zUVY4IkSBso9z6hpg==" crossorigin=anonymous referrerpolicy=no-referrer async><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer async><link rel=stylesheet href=/styles/site.css><script src=https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.bundle.min.js integrity="sha512-Tc0i+vRogmX4NN7tuLbQfBxa8JkfUSAxSFVzmU31nVdHyiHElPPy2cWfFacmCJKw0VqovrzKhdd2TSTMdAxp2g==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src="https://www.googletagmanager.com/gtag/js?id=G-XJFV74HRL6" async></script><script>window.hugoSiteParams={render_analytics:!0,analytics_id:"G-XJFV74HRL6"}</script><script src=/scripts/site.js defer></script></body></html>