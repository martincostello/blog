<!doctype html><html lang=en-gb><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><title>Why I Switched From WordPress To Middleman | The blog of a software developer and tester.</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta property="author" content="Martin Costello"><meta name=copyright content="&copy; Martin Costello 2014-2025"><meta name=description content="Why I switched from using WordPress to the Middleman static site generator for writing my blog."><meta name=language content="en"><meta name=theme-color content="#ffffff"><meta name=keywords content="blogging,middleman,wordpress"><meta name=robots content="INDEX"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="article:author" content="10100867762061905"><meta property="article:published_time" content="2015-06-18T00:00:00Z"><meta property="article:modified_time" content="2015-06-18T00:00:00Z"><meta property="article:tag" content="blogging,middleman,wordpress"><meta property="fb:profile_id" content="10100867762061905"><meta name=application-name content="Martin Costello's Blog"><meta name=msapplication-config content="browserconfig.xml"><meta name=msapplication-navbutton-color content="#0095DA"><meta name=msapplication-starturl content="/"><meta property="og:description" content="Why I switched from using WordPress to the Middleman static site generator for writing my blog."><meta property="og:image" content="https://cdn.martincostello.com/martin_small-v3.png"><meta property="og:locale" content="en_GB"><meta property="og:site_name" content="Martin Costello's Blog"><meta property="og:title" content="Why I Switched From WordPress To Middleman"><meta property="og:type" content="article"><meta property="og:updated_time" content="2015-06-18T00:00:00Z"><meta property="og:url" content="https://blog.martincostello.com/why-i-switched-from-wordpress-to-middleman/"><meta name=twitter:card content="summary"><meta name=twitter:creator content="@martin_costello"><meta name=twitter:description content="Why I switched from using WordPress to the Middleman static site generator for writing my blog."><meta name=twitter:domain content="blog.martincostello.com"><meta name=twitter:image content="https://cdn.martincostello.com/martin_small-v3.png"><meta name=twitter:image:alt content="Martin Costello"><meta name=twitter:site content="@martin_costello"><meta name=twitter:title content="Why I Switched From WordPress To Middleman"><meta name=twitter:url content="https://blog.martincostello.com/why-i-switched-from-wordpress-to-middleman/"><meta name=twitter:label1 content="Written by"><meta name=twitter:data1 content="Martin Costello"><meta name=google-site-verification content="ji6SNsPQEbNQmF252sQgQFswh-b6cDnNOa3AHvgo4J0"><meta name=msvalidate.01 content="D6C2E7551C902F1A396D8564C6452930"><link rel=canonical href=https://blog.martincostello.com/why-i-switched-from-wordpress-to-middleman/><link rel=manifest href=/manifest.webmanifest><link href=https://cdn.martincostello.com/favicon.ico rel="shortcut icon" type=image/x-icon><link href=/sitemap.xml rel=sitemap type=application/xml><link href=/feed.xml rel=alternate type=application/rss+xml title=Atom></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary"><div class=container><a href=/ class=navbar-brand><span class="fa-solid fa-laptop-code" aria-hidden=true></span>
blog.martincostello.com
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#site-navbar aria-controls=site-navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=site-navbar><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/archive/ title="View the post archive">Archive
<span class="fa-solid fa-box-archive" aria-hidden=true></span></a></li></ul><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/about-me/ title="About Martin">About Me
<span class="fa-solid fa-circle-info" aria-hidden=true></span></a></li></ul></div></div></nav><main class="container body-content"><div class="p-4 mb-3 bg-light rounded-3"><div class="container-fluid py-3"><h1 class=display-5>Why I Switched From WordPress To Middleman</h1><p class="col-md-8 fs-4 lead">Why I switched from using WordPress to the Middleman static site generator for writing my blog.</p></div></div><p><div class="row d-none d-md-block"><div class=col-6>18 June 2015 by <a href=/about-me/ rel=noopener title="About Martin Costello">Martin Costello</a> |
<a href=/feed.xml rel=noopener title="View the RSS syndication feed"><span class="fa-solid fa-rss" aria-hidden=true></span></a></div></div><div class="row d-md-none"><div class=col-12>18 June 2015 by <a href=/about-me/ rel=noopener title="About Martin Costello">Martin Costello</a></div><div class=col-12><a href=/feed.xml rel=noopener title="View the RSS syndication feed"><span class="fa-solid fa-rss" aria-hidden=true></span></a></p></div></div></p><p><div class=row><div class=col-lg-6><a href="https://bsky.app/intent/compose?text=Why+I+Switched+From+WordPress+To+Middleman+by+%40martincostello.com+-+https%3A%2F%2Fblog.martincostello.com%2Fwhy-i-switched-from-wordpress-to-middleman%2F" target=_blank rel=noopener class="btn btn-info btn-sm" title="Share on Bluesky">Share on Bluesky
<span class="fa-brands fa-bluesky" aria-hidden=true></span></a></div></div></p><p>A few years ago I thought I&rsquo;d set up a blog. Initially I created a blog in <a href=http://martincostello.blogspot.co.uk/>Blogspot</a> but I decided some time later that I&rsquo;d rather host it myself with custom DNS, etc., mainly as a learning exercise. As I&rsquo;m mostly a developer in the Microsoft stack, I decided I&rsquo;d set it up in Windows Azure as an Azure Website (now a &ldquo;Microsoft Azure Web App&rdquo;) as that was something I knew of and knew a little about. A few clicks through a wizard later and I had a WordPress blog running in Azure, backed by a MySQL database. Great - time to get blogging!</p><p>Flash-foward a few years, and I had a sum total of <a href=https://blog.martincostello.com/ensuring-your-asp-net-website-is-secure/>one solitary blog post</a>. Yeah, so I&rsquo;d been a bit slack on the whole writing a blog thing. However I&rsquo;ve got an idea for a second blog post that I&rsquo;ve been procrastinating over writing for a while, so I thought I&rsquo;d start on that (aside: this isn&rsquo;t that blog post, that&rsquo;s coming soon). By this point I&rsquo;d grown two different Azure subscriptions and the blog was running in the wrong one and I was starting to hit limits on my free Azure credits due to other usage, so I figured I&rsquo;d switch it around. The problems begin.</p><p>READMORE</p><h2 id=problems-problems-problems>Problems, Problems, Problems</h2><p>So the first problem was that the MySQL database that Azure automatically provisioned for me when the WordPress blog was initially provisioned is through a third-party provider. I had no idea where this was, but eventually through some clicking of buried-away links in the Azure portal I found a link through to the third-party portal for the database. It was then that I discovered that the database was on a free tier with a paltry 20MB maximum size. 20MB seemed a bit pathetic considering with one post I&rsquo;d already used 15MB, and I already wanted to move the database to a different subscription so why remove the limit and start paying more? So how do you move a MySQL database from one subscription to another? I don&rsquo;t know, I never found out - more on this later.</p><p>The next hurdle was that I&rsquo;m not really au-fait with MySQL management given I&rsquo;m a Microsoft/Windows guy, and if I&rsquo;m honest I wasn&rsquo;t particularly inclined to learn to do so either. Microsoft have been pushing for SQL Server interoperability with PHP (which WordPress is written in) for <a href=http://blogs.technet.com/b/dataplatforminsider/archive/2014/11/06/available-today-preview-release-of-the-sql-server-php-driver.aspx>a while</a> so I thought why not migrate to use SQL Server as the data store instead? That way I can host a SQL database (which I know how to do) in Azure in the right subscription and point WordPress at that instead. There&rsquo;s <a href=https://msdn.microsoft.com/en-us/data/ff657782.aspx>PHP drivers for SQL Server</a> now and a <a href=https://wordpress.org/plugins/wordpress-database-abstraction/>WordPress plugin</a> for using SQL Server as well? Microsoft have even <a href=http://blogs.msdn.com/b/brian_swan/archive/2010/05/12/running-wordpress-on-sql-server.aspx>blogged about</a> how to do it, so it can&rsquo;t be that hard, right? <strong>Wrong</strong> as I was about to discover.</p><h2 id=the-abortive-attempt-to-use-sql-server>The Abortive Attempt To Use SQL Server</h2><p>Migrating to SQL Server it is then. Let&rsquo;s get started. Step one: where the hell is the website source?</p><p>As everything had been set up for me in the Azure wizard, I&rsquo;d never actually seen the website source itself ever. Better get it then, which is pretty simple. I just had to FTP into the IIS website&rsquo;s directory in Azure and pull it out.</p><p>Great I&rsquo;ve got the source, now what do I do? Well I better put it in source control somewhere before I start tinkering. That way I can rollback if I mess everything up, plus I can setup a test slot somewhere where I can do testing without worrying about screwing up my &ldquo;production&rdquo; MySQL database. Azure has a nice <a href=https://azure.microsoft.com/en-gb/documentation/articles/web-sites-publish-source-control/>deploy from Git workflow</a> so I&rsquo;ll go with a Git repo to look after it. There&rsquo;s some private configuration data for the site to run in Azure though (like connection strings) so I don&rsquo;t want it publicly available. GitHub don&rsquo;t allow private repositories for free but Visual Studio Online is always private, supports Git and is <a href=https://www.visualstudio.com/en-us/products/visual-studio-online-pricing-vs.aspx>free for up to 5 users</a>. I&rsquo;m only one person, so great, sounds like the perfect fit. I&rsquo;ll get all the code checked in and branch and get to work then.</p><p>Cue montage of trying to get it to work to the theme of Murder She Wrote. I&rsquo;ll let this selection of tweets show you some highlights of the journey:</p><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>PHP confuses me.</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/564470541428740096>February 8, 2015</a></blockquote><script async src=//platform.twitter.com/widgets.js></script><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>On reflection, staying up until 3am messing about with PHP wasn't the best idea.</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/564623522711236608>February 9, 2015</a></blockquote><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>Now, can I solve this PHP mystery in 25 minutes before I have to go out? *Cue Mission:Impossible theme*</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/564758186029506561>February 9, 2015</a></blockquote><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>Computers: the source of my income and maybe also a killing spree in the imminent future.</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/565600543645917184>February 11, 2015</a></blockquote><h2 id=mission-failed>Mission: Failed</h2><p>As you can see, I gave up. The main problems and reasons being:</p><ol><li>The WordPress plug-in was out-of-date (2 years+ since the last update) and didn&rsquo;t work properly with my version of WordPress;</li><li>The SQL Server PHP drivers didn&rsquo;t seem to want to run on PHP 5.5. After much banging my head against the wall I discovered that not only did they work fine with PHP 5.4, but also that the PHP drivers were already installed in Azure Websites meaning that lots of playing around trying to find the right binaries and get them to load were pointless;</li><li>I could not work out how to import the MySQL data in SQL Server successfully without violating unique constraints and/or losing data integrity.</li></ol><h2 id=a-change-of-tack>A Change Of Tack</h2><p>After the WordPress/SQL Server debacle I went into hibernation on the whole blog situation for a few months until this week. I&rsquo;d seen various chatter here and there over the last few months about static site generators, so I wondered whether that would be a viable option. So I issued this tweet:</p><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>NERDS: recommend me a static site generator. I want to replace a WordPress blog that has fuck-all in it.</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/610525869497565184>June 15, 2015</a></blockquote><p>I didn&rsquo;t get my useful feedback from my followers, so I went to our friend Google. It led me to the following two links:</p><ol><li><a href=https://staticsitegenerators.net/>Static Site Generators</a> - Just a big list, not very helpful;</li><li><a href=https://www.staticgen.com/>StaticGen</a> - A much better curated list, ranked by the projects&rsquo; GitHub star counts.</li></ol><p>The main one that lept out was <a href=http://jekyllrb.com/>Jekyll</a> as I&rsquo;d heard of it before and GitHub uses it to generate GitHub pages sites. However not long afterwards I discovered that <a href=http://jekyllrb.com/docs/windows/>Jekyll doesn&rsquo;t officially support Windows</a>. I&rsquo;m mainly a Windows guy, and even though I have an Ubuntu VM in Hyper-V on my laptop, I&rsquo;d rather stick with the environment and tools I know. There are <a href=http://jekyll-windows.juthilo.com/>guides for getting it to work on Windows</a>, but as my heart wasn&rsquo;t set on Jekyll and I&rsquo;d rather use something supported, so I ruled it out of the running.</p><p>Cue some head-scratching, after which I did some further googling and found <a href=http://www.hanselman.com/blog/RunningTheRubyMiddlemanStaticSiteGeneratorOnMicrosoftAzure.aspx>this post by Scott Hanselman</a>. <a href=https://middlemanapp.com/>Middleman</a> was in the second row on <a href=https://www.staticgen.com/>StaticGen</a>. Interesting&mldr;</p><p>Having read Scott&rsquo;s article, I summised that Middleman worked on Windows, and would work in Azure (it&rsquo;s a static site I know, but good to know the workflow has been tried and tested by someone else). The article is mostly about getting the site to <em>build</em> on Azure, which <strong>for now</strong> I&rsquo;m not interested in. That&rsquo;s a nice to have I can do in the future (it&rsquo;s on my VS Online backlog in fact), but at the time I just wanted the site - I can deploy it via FTP in the short-term.</p><h2 id=getting-to-grips-with-middleman>Getting To Grips With Middleman</h2><p>Reading the <a href=https://middlemanapp.com/basics/install/>Middleman</a> documentation things seemed straight-forward:</p><ol><li>HTML templating from HTML and Markdown to HTML;</li><li>Builds with Ruby;</li><li>Generates a static site ready for deployment.</li></ol><p>As ever, I steamed right ahead and got stuck in, having not <em>thoroughly</em> read the documentation (like most developers). I had a site template, and it built. Great.</p><p>Now how do you write a blog with it?</p><p>It turns out (having read the documentation again <em>properly</em>) that Middleman has a <a href=https://middlemanapp.com/basics/blogging/>blog plug-in</a>. Huzzah!</p><p>More digging around in the generated code shows the following blog features:</p><ol><li>Archiving;</li><li>Tags;</li><li>Atom Feed;</li><li>XML site map.</li></ol><p>This all looks very encouraging. In fact, this level of encouraging:</p><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>Found using the Middleman static site generator surprisingly easy to get to grips with. Wordpress: your days are numbered...</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/610927266311356417>June 16, 2015</a></blockquote><h2 id=implementing-the-blog>Implementing The Blog</h2><p>So over the course of the next two evenings I set about in earnest migrating over from WordPress to Middleman. It involved a number of steps, and probably took about 10 hours&rsquo; of effort in total. It was a mixture of migration, feature parity and some new features I fancied adding in because I was giving the blog some love so would be a good opportunity. I hadn&rsquo;t set myself a timescale or deadline for completing the work, but given I only had one extant blog post to worry about, I figured having it completed within a week would be reasonable.</p><h3 id=installing-ruby--devkit>Installing Ruby + DevKit</h3><p>Middleman uses some Ruby gems that need the Ruby DevKit so they can compile native extensions. While this is all <a href=http://jekyll-windows.juthilo.com/1-ruby-and-devkit/>documented elsewhere on the internet</a>, I&rsquo;ll just list the basic steps for doing this on Windows here:</p><ol><li><a href=http://rubyinstaller.org/downloads/>Download</a> and install Ruby (I installed Ruby 2.2.2 (x64));</li><li><a href=http://rubyinstaller.org/downloads/>Download</a> and install the Ruby Development Kit (I installed the one for Ruby 2.0 (x64));</li><li>Run the following commands in a command-line window:</li></ol><pre tabindex=0><code>ruby dk.rb init
ruby dk.rb install
</code></pre><h3 id=setting-up-compilation>Setting Up Compilation</h3><p>I&rsquo;m quite a big fan of being able to compile on the command-line, so I set myself up a <code>Build.cmd</code> and checked it into Git for compiling the site as I go. It&rsquo;s nothing ground-breaking, here&rsquo;s the content:</p><pre tabindex=0><code>@echo off

bundle exec middleman build %*
</code></pre><p>Then it&rsquo;s just a simple command of:</p><pre tabindex=0><code>c:\coding\blog&gt;build
</code></pre><p>The <code>%*</code> on the end passes any arguments through to bundle, which is useful if compilation produces errors so you can do this to get more detail:</p><pre tabindex=0><code>c:\coding\blog&gt;build --verbose
</code></pre><h3 id=feature-parity>Feature Parity</h3><p>While WordPress has a plethora of plug-ins and being PHP is infinitely customisable, I never really ventured down that route as PHP isn&rsquo;t my thing. The only thing I&rsquo;d be missing is a comments engine, but I&rsquo;ll cover that below. That means that all I really need to retain is the same site structure so that anything indexed by search engines doesn&rsquo;t result in a nasty 404. This was pretty much all covered by the examples in the Middleman example templates that got generated and just needed to be tweaked to my liking for how they rendered, like using proper UK date formats.</p><p>Below are a few snippets and gotchas found in the process:</p><h4 id=dropping-html-from-urls>Dropping .html From URLs</h4><p>WordPress defaults to extensionless URLs. To keep my URLs I needed to get rid of them.</p><p>To do this, set this option on the blog in <code>config.rb</code>:</p><pre tabindex=0><code>blog.permalink = &#34;{title}&#34;
</code></pre><p>Then <em>after</em> the blog options, set this:</p><pre tabindex=0><code>activate :directory_indexes
</code></pre><p>For a while I had blogs misbehaving but non-blog pages working as expected. This was fixed by turning on <code>directory_indexes</code> after the blog pages were considered when the directory indexes were created.</p><h4 id=forcing-css-and-javascript-cache-updates>Forcing CSS and Javascript Cache Updates</h4><p>If you change your CSS browser caches might not pick-up the change and you&rsquo;ll end up with a screwy UX. If you activate asset hashing as described below, your CSS and Javascript paths (assuming you use the <code>javascript_include_tag</code> or <code>stylesheet_link_tag</code> helpers to render them) will have a hash added to the file name so that they move between deployments, forcing client caches to be invalidated.</p><pre tabindex=0><code>configure :build do
  activate :asset_hash
end
</code></pre><h4 id=fixing-timezone-related-errors>Fixing Timezone-related Errors</h4><p>The blog plug-in uses the <code>tzinfo</code> gem to handle timezones. However Windows doesn&rsquo;t include the data required for this that Linux has natively, which causes builds to fail. The remedy this add this line to <code>Gemfile</code>:</p><pre tabindex=0><code>gem &#34;tzinfo-data&#34;
</code></pre><h4 id=adding-the-homepage-to-sitemapxml-with-the-date-of-the-lastest-blog-article>Adding The Homepage To sitemap.xml With The Date Of The Lastest Blog Article</h4><p>The blog template comes with a <code>sitemap.xml.builder</code> file which renders a sitemap of articles in the blog for you. It won&rsquo;t render any other pages you might have though. There&rsquo;s probably a snazzier way to enumerate the pages during the build and list everything, but I only wanted two extra entries. To add them manually, you can add something like the code below. This adds an entry for the root of the site, and dates it as being updated at the same time as the latest blog entry (because it lists the last few posts on it).</p><pre tabindex=0><code>xml.url do
  xml.loc site_url
  xml.lastmod File.mtime(blog.articles[0].source_file).iso8601
  xml.changefreq &#34;monthly&#34;
  xml.priority &#34;0.5&#34;
end
</code></pre><p>For other pages, I change <code>&lt;lastmod></code> to be the filetime of the relevant source file:</p><pre tabindex=0><code>xml.lastmod File.mtime(&#34;source/my-page.html.erb&#34;).iso8601
</code></pre><h4 id=parameterise-all-the-things>Parameterise All The Things</h4><p>Put commonly used text, variables etc. as variables in your <code>config.rb</code> file. For example:</p><pre tabindex=0><code>set :site_root_uri_canonical, &#34;https://blog.martincostello.com/&#34;
set :blog_author, &#34;Martin Costello&#34;
set :twitter_handle, &#34;martin_costello&#34;
</code></pre><p>I&rsquo;m unlikely to change my name any time soon, but it makes the code a bit more readable that being hard-coded literals of my name all over the codebase.</p><h4 id=partial-all-the-things>Partial All The Things</h4><p>Similar to ASP.NET MVC, as well as full pages Middleman supports partial pages for snippet re-use. I&rsquo;ve used this liberally throughout this site to try and keep to the <a href=https://en.wikipedia.org/wiki/Don%27t_repeat_yourself>DRY</a> principle.</p><p>As an example here&rsquo;s the raw code for my entire layout page which contains 7 partials.</p><pre tabindex=0><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en-gb&#34;&gt;
  &lt;%= partial &#34;head&#34; %&gt;
  &lt;body&gt;
    &lt;%= partial &#34;navbar&#34; %&gt;
    &lt;div class=&#34;container body-content&#34;&gt;
        &lt;%= yield %&gt;
        &lt;hr /&gt;
        &lt;%= partial &#34;footer&#34; %&gt;
    &lt;/div&gt;
    &lt;%= partial &#34;aside&#34; %&gt;
    &lt;%= partial &#34;scripts&#34; %&gt;
    &lt;%= partial &#34;analytics&#34; %&gt;
    &lt;%= partial &#34;disquscount&#34; %&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>You can also use partials in partials, which can be, erm, fun.</p><h3 id=importing-content>Importing Content</h3><p>I was in the &ldquo;lucky&rdquo; situation of only having one extant blog post, so I didn&rsquo;t have to worry about a bulk import or conversion process, which you might not have the luxury of doing. Given this, I just copied the text from the old blog and then manually re-wrote it in Markdown in the new format to live in the new site. That was probably about a 30 minute job and wasn&rsquo;t overly taxing or vexing. There was also the homepage and &ldquo;about me&rdquo; pages in the old blog, but I just rewrote those from scratch.</p><p>If you need to import content en-masse I&rsquo;d suggest writing something in your language of choice to try and parse your existing articles and convert the text to Markdown. Alternatively you could just pull out the raw HTML and dump it into a Markdown file as-is and not worry about any dud formatting.</p><h3 id=syntax-highlighting>Syntax Highlighting</h3><p>My <a href=https://blog.martincostello.com/ensuring-your-asp-net-website-is-secure/>first blog post</a> uses a lot of code examples and when this blog was still running in its PHP incarnation I was never really happy with the styling. For this new blog I did some digging around to find something to use. Again, it turns out there&rsquo;s a dedicated Middleman plug-in just for this: <code>middleman-syntax</code>.</p><p>You can wire-it up to use <a href=https://github.com/jneen/rouge>Rouge</a> just like GitHub pages, so that&rsquo;s exactly what I did.</p><p>All it took was these lines in the gemfile:</p><pre tabindex=0><code>gem &#34;middleman-syntax&#34;
gem &#34;redcarpet&#34;
</code></pre><p>And these configuration settings in <code>config.rb</code>:</p><pre tabindex=0><code>activate :syntax
set :markdown_engine, :redcarpet
set :markdown, :fenced_code_blocks =&gt; true
</code></pre><h3 id=security>Security</h3><p>I like to ensure all my sites are best-practice secured, so I ran through the points in my <a href=https://blog.martincostello.com/ensuring-your-asp-net-website-is-secure/>first blog post</a> and sorted everything out. As there&rsquo;s no code in the site as it&rsquo;s static, this was purely <code>Web.config</code> jiggery-pokery to get IIS running in Azure doing what I wanted.</p><h3 id=eye-candy>Eye-Candy</h3><p>As I was doing a relaunch and spruce-up, I figured I&rsquo;d add a few nice-to-have features to the site to spruce it up. Namely:</p><ol><li>Integration with <a href=https://disqus.com/>Disqus</a> for comments;</li><li>Social sharing buttons for Facebook, Google+ and Twitter;</li><li>Review my SEO and Social Media related metadata (like OpenGraph <code>&lt;meta></code> tags).</li></ol><p>I won&rsquo;t get into the detail here as you can see the results here in the blog for yourself, but it was just simple following of the integration guides for Disqus and social sharing and using partials for the buttons and scripts etc. so they were centralised and I could re-use them as needed with minimal fuss.</p><h3 id=switching-over>Switching Over</h3><p>With all the feature and testing cards on my VS Online task board in the Done column, it was time to put the site live. Ideally I&rsquo;d have done it with 100% uptime (just for the show-off factor), but I couldn&rsquo;t due to the need to migrate the SSL host name bindings between Azure Web Apps due to the subscription changeover. For my particular set up this involved:</p><ol><li>Remove the host name binding for <code>blog.martincostello.com</code> from the old Web App;</li><li>Add the host name binding for <code>blog.martincostello.com</code> to the new Web App;</li><li>Setup the SSL certificate binding;</li><li>Update my DNS <code>CNAME</code> to point at the new Web App;</li><li>Flush my DNS cache.</li></ol><p>Then it was just a simple matter of pushing the final build of the site to Azure over FTP, checking it was working and deleting the old Azure resources using the subscription I didn&rsquo;t want to use any more. At which point I felt quite pleased with myself!</p><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>So long Wordpress.
Bye bye MySQL.
Hello Middleman.</p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/611300636324462592>June 17, 2015</a></blockquote><h2 id=conclusion>Conclusion</h2><p>Middleman is a nice static site generator to use for a blog. It has a plug-in for blogging, lets you use Markdown for authoring, has built-in support for paging, sorting, tags and all the other goodness you&rsquo;d expect in a simple blog. There&rsquo;s a bit of a learning curve if you&rsquo;re not that familiar with Ruby, but unless you want to do something <em>really</em> custom, you shouldn&rsquo;t need to learn anything beyond a few loops and string/date formatting. Most of the Ruby you&rsquo;ll write will be tag blocks to output dynamic content during the build process:</p><pre tabindex=0><code>&lt;%= current_page.data.title %&gt;
</code></pre><p>The biggest selling point for me was being able to use Markdown to write posts. In fact, that&rsquo;s what I&rsquo;m writing this very post in right now. I&rsquo;ve got a few more things left to implement in the near future, such as automating deployment of the <code>build</code> folder to Azure using Git so I don&rsquo;t need to do manual FTP copies, and adding in a proper HTML sidebar to the pages to list the recent posts and the post archive. Other that that I&rsquo;m a lot happier with the appearance of my blog, the management overhead, and the cost, than I ever was with the PHP incarnation.</p><p>I think this tweet, and the fact that you are reading this blog post right now, speak for themselves:</p><blockquote class=twitter-tweet align=center lang=en><p lang=en dir=ltr>Two evenings of effort and my blog re-architecture is done and Wordpress is in the bin: <a href=https://t.co/2gD4SGzE4p>https://t.co/2gD4SGzE4p</a></p>&mdash; Martin Costello (@martin_costello) <a href=https://twitter.com/martin_costello/status/611430850060812290>June 18, 2015</a></blockquote><hr><p><div class=row><div class=col-lg-6><a href="https://bsky.app/intent/compose?text=Why+I+Switched+From+WordPress+To+Middleman+by+%40martincostello.com+-+https%3A%2F%2Fblog.martincostello.com%2Fwhy-i-switched-from-wordpress-to-middleman%2F" target=_blank rel=noopener class="btn btn-info btn-sm" title="Share on Bluesky">Share on Bluesky
<span class="fa-brands fa-bluesky" aria-hidden=true></span></a></div></div></p><hr><footer><p><div class=row><div class="d-none d-md-block col">&copy; Martin Costello 2014-2025 |
Built from <a href=https://github.com/martincostello/blog/commit/4116b929c2636f9c037d8c2a6c02e0a2140cd9fc rel=noopener title="View commit 4116b929c2636f9c037d8c2a6c02e0a2140cd9fc on GitHub">4116b92</a> on <a href=https://github.com/martincostello/blog/tree/copilot/fix-244 rel=noopener title="View branch copilot/fix-244 on GitHub">copilot/fix-244</a></div><div class=d-md-none><div class=col>&copy; Martin Costello 2014-2025</div></div></div></p></footer></main><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.7/flatly/bootstrap.min.css integrity="sha512-O+EA0Agf5+pB8u7CtnIAYq/BKyFPMT8c0DFjmqLyfIJJ9Fm8GBohV/0H0TFaZ96+jieN8zUVY4IkSBso9z6hpg==" crossorigin=anonymous referrerpolicy=no-referrer async><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer async><link rel=stylesheet href=/styles/site.css><script src=https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.bundle.min.js integrity="sha512-Tc0i+vRogmX4NN7tuLbQfBxa8JkfUSAxSFVzmU31nVdHyiHElPPy2cWfFacmCJKw0VqovrzKhdd2TSTMdAxp2g==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src="https://www.googletagmanager.com/gtag/js?id=G-XJFV74HRL6" async></script><script>window.hugoSiteParams={render_analytics:!0,analytics_id:"G-XJFV74HRL6"}</script><script src=/scripts/site.js defer></script></body></html>